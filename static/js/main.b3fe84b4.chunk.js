(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(21),a=n.n(s),i=(n(29),n(30),n(31),n(4)),o=n(2),l=n(0),u=function(){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"mt-5",children:"REACT APP BASE"}),Object(l.jsx)("p",{className:"lead",children:"This app include customs hooks."}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["File ",Object(l.jsx)("b",{children:"/jsconfig.json"})," reduce the reference path for import modules"]}),Object(l.jsxs)("li",{children:["Directory ",Object(l.jsx)("b",{children:"/src/_/"})," for common elements for the project (components/hooks/services/helpers/others..)"]}),Object(l.jsxs)("li",{children:["Directory ",Object(l.jsx)("b",{children:"/src/main/"})," for the tree navegation for project"]})]})]})},d=n(10),j=n.n(d),b=n(13),h=n(5),m=n(8),f=function(e){return{get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var c=e.getItem(t);return c?JSON.parse(c):n}catch(r){return console.warn("Storage.getItem",t,r),n}},put:function(t,n){try{e.setItem(t,JSON.stringify(n))}catch(c){console.error("Storage.setItem",t,n,c)}},remove:function(t){e.removeItem(t)},clean:function(){e.clean()}}},O=f(localStorage),p=(f(sessionStorage),function(){return function(e,t){var n=x(e,t);return new Promise((function(e,t){console.info(n.method,n.url),setTimeout((function(){return v(n,e,t)}),400)}))}}),x=function(e,t){var n=t.method,c=t.body,r=new URL(e),s=r.host,a=r.pathname,i=a.indexOf("/api");-1!==i&&(s+=a.substr(0,i+4),a=a.substr(i+4));var o=a.replaceAll(/\/+/g,"/").split("/");return o.shift(),{url:e,host:s,paths:o=o.map((function(e){var t=parseInt(e);return isNaN(t)?{value:e,type:"NAME"}:{value:t,type:"ID"}})),method:n,body:c=c?JSON.parse(c):c}},v=function(e,t,n){var c=e.method,r=e.body,s=e.host,a=e.paths,i=O.get(s,{data:{}}),o=i,l=i.data,u={success:!0};a.forEach((function(e){var t=e.value,n=e.type;u.success&&("NAME"===n&&"object"===typeof l?(l[t]||(l[t]=[]),l=(o=l)[t]):"ID"===n&&Array.isArray(l)?l=(o=l).find((function(e){return e.id===t})):(u.success=!1,u.message="Error en el procesamiento del path"))}));var d=a[a.length-1],j=d.value,b=d.type;if(u.success)if("ID"===b)if(l)if("GET"===c||"FIND"===c||"LOOKUP"===c)u.value=l;else if("PUT"===c||"UPDATE"===c){var m=o.findIndex((function(e){return e.id===j}));r.id=parseInt(r.id),r.updatedAt=new Date,o[m]=Object(h.a)(Object(h.a)({},l),r),u.value=o[m]}else if("DELETE"===c||"REMOVE"===c){var f=o.findIndex((function(e){return e.id===j}));o.splice(f,1)}else u.success=!1,u.message="Metod not allowed";else u.success=!1,u.message="Registro no encontrado: "+j;else if("NAME"===b)if("GET"===c||"LIST"===c)u.value=l;else if("POST"===c||"CREATE"===c){r.id=parseInt(r.id)||(new Date).getTime(),l.find((function(e){return e.id===r.id}))?(u.success=!1,u.message="ID ya existe - "+r.id,u.value=void 0):(r.createdAt=new Date,l.push(r),u.value=r)}else u.success=!1,u.message="Metod not allowed";else u.success=!1,u.message="Error: param not allowed";else;O.put(s,i),u.success?t({ok:!0,text:function(){return Promise.resolve(JSON.stringify(u,null,2))},json:function(){return Promise.resolve(u)}}):(u.traces={method:c,paths:a},n({ok:!1,text:function(){return Promise.resolve(JSON.stringify(u,null,2))},json:function(){return Promise.resolve(u)}}))},N=n(23),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(c.useState)(e),r=Object(m.a)(n,2),s=r[0],a=r[1],i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return a(t)},o=function(e){return y(e,s,a)},l=function(){return E(s,t)};return[s,a,o,l,i]},y=function(e,t,n){var c=e.target,r=c.name,s=c.value,a=Array.isArray(t)?Object(N.a)(t):Object(h.a)({},t);if(-1!==r.indexOf(".")){var i=r.split("."),o=a;r=i.pop(),i.forEach((function(e){o[e]||(o[e]={}),o=o[e]})),o[r]=s}else a[r]=s;n(a)},E=function(e,t){return!1},T=p(),A={target:"http://127.0.0.1:4000/app/api",path:"/users",url:"========",data:{id:1,name:""},raw:"?"},I=function(){var e=g(A),t=Object(m.a)(e,3),n=t[0],c=t[1],r=t[2],s=function(e,t){var r=JSON.stringify(n.data),s=n.target+n.path+t;c((function(e){return Object(h.a)(Object(h.a)({},e),{},{url:s})})),console.log("FETCH:",e,s,r),T(s,{method:e,body:r}).then(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:n=e.sent,c((function(e){return Object(h.a)(Object(h.a)({},e),{},{raw:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Error to call service",c((function(e){return Object(h.a)(Object(h.a)({},e),{},{raw:"Error to call service"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"API CLIENT"}),Object(l.jsxs)("fieldset",{children:[Object(l.jsx)("legend",{children:"URL"}),"Target:",Object(l.jsx)("input",{name:"target",value:n.target,onChange:r,className:"form-control"}),"Path:",Object(l.jsx)("input",{name:"path",value:n.path,onChange:r,className:"form-control"})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("fieldset",{children:[Object(l.jsx)("legend",{children:"DATA"}),"ID:",Object(l.jsx)("input",{name:"data.id",value:n.data.id,onChange:r,className:"form-control"}),"NAME:",Object(l.jsx)("input",{name:"data.name",value:n.data.name,onChange:r,className:"form-control"})]}),Object(l.jsxs)("div",{className:"btn-groups m-2",children:[Object(l.jsx)("button",{onClick:function(e){return s("LIST","")},className:"btn btn-primary",children:"LIST ALL"}),Object(l.jsx)("button",{onClick:function(e){return s("FIND","/"+n.data.id)},className:"btn btn-primary",children:"FIND DATA"}),Object(l.jsx)("button",{onClick:function(e){return s("CREATE","")},className:"btn btn-primary",children:"CREATE DATA"}),Object(l.jsx)("button",{onClick:function(e){return s("UPDATE","/"+n.data.id)},className:"btn btn-primary",children:"UPDATE DATA"}),Object(l.jsx)("button",{onClick:function(e){return s("REMOVE","/"+n.data.id)},className:"btn btn-primary",children:"REMOVE DATA"})]}),Object(l.jsx)("span",{className:"form-control",children:n.url}),Object(l.jsx)("pre",{className:"card bg-light p-2",children:Object(l.jsx)("code",{children:n.raw})})]})},D="http://127.0.0.1:4000/app/api";window.fetch=p();var S=function(){return localStorage.getItem("token")||"====NONE===="},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{get:function(n){return e(n,{method:"GET"}).then(t)},post:function(n,c){return e(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t)},put:function(n,c){return e(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t)},delete:function(n){return e(n,{method:"DELETE"}).then(t)},lookup:function(n){return e(n,{method:"LOOKUP"}).then(t)},filter:function(n,c){return e(n,{method:"FILTER",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t)},create:function(n,c){return e(n,{method:"CREATE",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t)},update:function(n,c){return e(n,{method:"UPDATE",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t)},remove:function(n){return e(n,{method:"REMOVE"}).then(t)},launch:function(n,c){return e(n,{method:"LAUNCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(t)}}},k=C((function(e,t){return fetch(D+e,t)})),w=(C((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.headers,c=void 0===n?{}:n;return c.Authorization="Bearer "+S(),t.headers=c,fetch(D+e,t)})),"/users"),U=function(){return k.get(w)},P=function(e){return k.get("".concat(w,"/").concat(e))},_=function(e){return k.post(w,e)},L=function(e,t){return k.put("".concat(w,"/").concat(e),t)},R=function(e){return k.delete("".concat(w,"/").concat(e))},J={id:0,name:"",size:0,description:""},M=function(){var e=Object(o.i)().id,t=parseInt(e),n=Object(o.h)(),r=g(J),s=Object(m.a)(r,3),a=s[0],i=s[1],u=s[2],d=function(){n.goBack()};return Object(c.useEffect)((function(){var e=O.get("users-item",J);t===e.id?i(e):t&&P(t).then((function(e){i(e.value)})).catch((function(e){alert("Fetch Error : ",e)}))}),[t,i]),Object(l.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),t){var n=O.get("users-list").map((function(e){return e.id===t?a:e}));O.put("users-list",n),L(t,a).then(d)}else{var c=O.get("users-list",[]);c.push(a),O.put("users-list",c),_(a).then(d)}},className:"animate__animated animate__fadeIn animate__faster",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("header",{className:"card-header h3",children:["Form User ",t]}),Object(l.jsx)("main",{className:"card-body",children:Object(l.jsxs)("div",{children:["Name:",Object(l.jsx)("input",{name:"name",value:a.name,onChange:u,className:"form-control"}),"Size:",Object(l.jsx)("input",{name:"size",value:a.size,onChange:u,type:"number",className:"form-control"}),"Description:",Object(l.jsx)("input",{name:"description",value:a.description,onChange:u,className:"form-control"})]})}),Object(l.jsxs)("footer",{className:"card-footer",children:[Object(l.jsx)("button",{type:"button",className:"btn btn-sm",onClick:d,children:"Back"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary",children:"Guardar"})]})]})})},B={id:0,name:"",description:""},z=function(){var e=Object(o.i)().id,t=parseInt(e),n=Object(o.h)(),r=g(B),s=Object(m.a)(r,2),a=s[0],u=s[1];return Object(c.useEffect)((function(){var e=O.get("users-item",B);t===e.id?u(e):P(t).then((function(e){u(e.value),console.log("GET_IT:",e)}))}),[t,u]),Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),R(t),n.goBack()},className:"animate__animated animate__fadeIn animate__faster",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("header",{className:"card-header h3",children:["Info User ",t]}),Object(l.jsxs)("main",{className:"card-body",children:["Name:",Object(l.jsx)("span",{className:"form-control",children:a.name}),"Description:",Object(l.jsx)("span",{className:"form-control",children:a.description})]}),Object(l.jsxs)("footer",{className:"card-footer",children:[Object(l.jsx)(i.c,{to:"/",className:"btn btn-sm",children:"Back"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-sm btn-danger",children:"Eliminar"})]})]})})},F=n(24),G=function(e){var t=e.name,n=e.family,c=void 0===n?"fa":n,r=e.size,s=e.color,a=e.className,i=void 0===a?"":a,o=Object(F.a)(e,["name","family","size","color","className"]);return o.className="".concat(c," ").concat(c,"-").concat(t," ").concat(c,"-").concat(r," text-").concat(s," ").concat(i),Object(l.jsx)("i",Object(h.a)({},o))},H=function(e){return"string"===typeof e&&(e=Date.parse(e)),"number"===typeof e&&(e=new Date(e)),e instanceof Date?e.toLocaleString("es-BO"):e},V=function(){var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=O.get(e,t),s=Object(c.useState)(r),a=Object(m.a)(s,2),i=a[0],o=a[1],l=function(){return o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t)},u=function(e){return y(e,i,o)},d=function(){return E(i,n)};return Object(c.useEffect)((function(){return O.put(e,i)}),[e,i]),[i,o,u,d,l]}("users-list",null),t=Object(m.a)(e,2),n=t[0],r=t[1],s=function(){U().then((function(e){r(e.value)}))};return Object(c.useEffect)(s,[r]),Object(l.jsxs)("div",{className:"animate__animated animate__fadeIn animate__faster",children:[Object(l.jsxs)("h3",{children:[Object(l.jsx)("button",{onClick:s,className:"btn btn-lg",children:Object(l.jsx)(G,{name:"refresh"})}),"Lista de Usuarios"]}),Object(l.jsx)(i.c,{to:"/add",className:"btn btn-sm btn-success mb-2",children:"Add User"}),Object(l.jsxs)("table",{className:"table table-sm",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"ID"}),Object(l.jsx)("th",{children:"NAME"}),Object(l.jsx)("th",{children:"SIZE"}),Object(l.jsx)("th",{children:"DESCRIPTION"}),Object(l.jsx)("th",{children:"CREATED AT"}),Object(l.jsx)("th",{children:"UPDATED AT"}),Object(l.jsx)("th",{})]})}),Object(l.jsxs)("tbody",{children:[!n&&Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:10,children:Object(l.jsx)("div",{className:"spinner-border spinner-border-lg align-center"})})}),n&&n.map((function(e){return Object(l.jsx)(K,{it:e},e.id)})),n&&!n.length&&Object(l.jsx)("tr",{children:Object(l.jsx)("td",{colSpan:10,children:"Sin Registros"})})]})]})]})},K=function(e){var t=e.it,n=function(){O.put("users-item",t)};return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:t.name}),Object(l.jsx)("td",{children:t.size}),Object(l.jsx)("td",{children:t.description}),Object(l.jsx)("td",{children:H(t.createdAt)}),Object(l.jsx)("td",{children:H(t.updatedAt)}),Object(l.jsxs)("th",{children:[Object(l.jsx)(i.c,{to:"/edit/".concat(t.id),onClick:n,className:"btn btn-sm",children:"Edit"}),Object(l.jsx)(i.c,{to:"/view/".concat(t.id),onClick:n,className:"btn btn-sm",children:"Eliminar"})]})]})},Z=function(){return Object(l.jsx)(i.a,{basename:"/users-browser",children:Object(l.jsx)(W,{title:"Gestion de Usuarios - Navegacion en Browser"})})},q=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)(W,{title:"Gestion de Usuarios - Navegacion en Memoria"})})},Q=function(){return Object(l.jsx)(i.b,{children:Object(l.jsx)(W,{title:"Gestion de Usuarios - Navegacion en Hash"})})},W=function(e){var t=e.title;return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("h1",{className:"card-header",children:t}),Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)(o.e,{children:[Object(l.jsx)(o.c,{exact:!0,path:"/",component:V}),Object(l.jsx)(o.c,{path:"/add",component:M}),Object(l.jsx)(o.c,{path:"/edit/:id",component:M}),Object(l.jsx)(o.c,{path:"/view/:id",component:z}),Object(l.jsx)(o.b,{to:"/"})]})})]})},X=function(){return Object(l.jsx)("div",{className:"container pt-4 pb-4",children:Object(l.jsxs)(o.e,{children:[Object(l.jsx)(o.c,{exact:!0,path:"/",component:u}),Object(l.jsx)(o.c,{path:"/users-hash",component:Q}),Object(l.jsx)(o.c,{path:"/users-memory",component:q}),Object(l.jsx)(o.c,{path:"/users-browser",component:Z}),Object(l.jsx)(o.c,{path:"/api",component:I}),Object(l.jsx)(o.b,{to:"/"})]})})},Y=function(){return Object(l.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"navbar-nav",children:[Object(l.jsx)(i.d,{exact:!0,to:"/",className:"nav-item nav-link",children:"Home"}),Object(l.jsx)(i.d,{to:"/users-browser",className:"nav-item nav-link",children:"Browser Users"}),Object(l.jsx)(i.d,{to:"/users-memory",className:"nav-item nav-link",children:"Memory Users"}),Object(l.jsx)(i.d,{to:"/users-hash",className:"nav-item nav-link",children:"Hash Users"}),Object(l.jsx)(i.d,{to:"/api",className:"nav-item nav-link",children:"Client Api"})]})})};var $=function(){return Object(l.jsxs)(i.a,{basename:"/react-app",children:[Object(l.jsx)(Y,{}),Object(l.jsx)(X,{})]})};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)($,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b3fe84b4.chunk.js.map